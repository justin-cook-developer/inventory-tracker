{"version":3,"sources":["scripts/state/model.js","scripts/components/item.js","scripts/components/user.js","scripts/state/actions.js","scripts/state/reducer.js","scripts/index.js"],"names":["data","customers","Moe","Foo","Bar","Bazz","Larry","Curly","prizes","item","itemName","count","user","name","items","stock","Object","entries","map","join","decrement","type","increment","actions","cloneArray","arr","el","Array","isArray","cloneObject","obj","newObj","key","hasOwnProperty","value","reducer","state","action","newState","model","usersContainer","document","getElementById","itemsContainer","render","users","userName","userItems","itemCount","innerHTML","addEventListener","e","target","dataset","parentNode","stateAction"],"mappings":";;AKAA;;AACA;;AACA,ALFA,IAAMA,IAAI,GAAG;ACAb,AEAA,AHCEC,EAAAA,ECDIQ,AEAAW,IFAI,GAAG,ADCF,EGDI,AHCF,GGDK,IFAZX,IAAO,CAACC,AEARU,QFAO,CEAK,CFAMT,AEALF,IAAD,CFAL,CEAYG,IAAP;AFAL,AIGb,AFHkB,AHEdV,IAAAA,GAAG,EGF4B,AHE1B,6GCCqBQ,QAHjB,4FAMiBC,KANjB;AAAA,AEAwBU,AHG/BlB,CCHN,GEAqCkB,EHG/BlB,EGHmC,CHGhC,CGHkC,CHGhC,CADF,SGF0B;AEInC,AFJwDM,AHIlDL,IGJkDK,EHIlDL,EGJsD,CHInD,CGJ+CK,CHI7C,CAFF,EGF0B;AAA2BG,AHKxDP,IGLwDO,EHKxDP,EGL4D,EAAJO,AHKpD,EAAE,GCMGH;AEXoB,AHE1B,GGFS,EHCL;AGDK,AHOdH,AIPJ,CDAA,GHOIA,AIPEkB,KJOG,EAAE,GIPK,GAAG,SAAbA,UAAa,CAAAC,GAAG;AJQhBtB,AIRgB,MJQhBA,GAAG,AIPPsB,EJOS,CADA,AINN,CAACP,GAAJ,CAAQ,UAAAQ,EAAE,EAAI;AFDhB,ACCA,AHQMtB,AIPF,IFFEQ,ACCAU,EHQAlB,EETI,AEEFuB,CJOC,EETI,AFSF,CAFA,CGNI,ACCF,CAACC,EDDI,IDDZhB,CEEE,CAAcc,EFFT,AEEL,CFFMb,ACCRS,ACCF,EAAuB,EFFd,EAAOR,GCCF,CAACL,CDDN,EAAcM,CCCT,EAAOH,EDDZ,ECCK;ADDL,ACCK,AHSZP,AIPA,MJOAA,GGT6B,CHSzB,EAAE,CIPCmB,UAAU,CAACE,EAAD,CAAjB,0FFAuBb,IAHhB,sEAMLG,MAAM,CAACC,OAAP,CAAeH,KAAf,EACCI,GADD,CAEE;AAAA,ACP2BG,AHM1B,AIHN,IDHgCA,CHAxB,AICT,GDDqC,EAAE,CCGhC,IAAI,MDHoB,ECGbK,EAAP,MAAc,QAAlB,EAA4B;AFI7B,ACP8CjB,AHWpDF,AIPE,IDJkDE,AHWpDF,IEJQE,ACPgD,CHWnD,CGX+CA,CHW7C,CEJD,CEHGoB,CDJsB,UCIX,CAACH,EAAD,CAAlB;AFGI,ACPoDd,AHYxDT,AIPD,IDLyDS,CCGnD,CJSLT,EELYQ,ACPgD,CHYzD,CGZqDC,CHYnD,AIPA,CJMA,CEJD;ACPyB,AHa7BR,AIPA,GDNY,GHaZA,GAAG,EAAE,CAFA,CILEsB,EAAP;AFCI,ACPQ,AHcZrB,AIPD,CDPL,KHcMA,IAAI,EAAE,0DENkCI,IADpC,4BACwDI,IADxD,gEAGIF,KAAK,IAAI,CAAT,GAAa,UAAb,GAA0B,EAH9B,wEAKoCF,IALpC,eAK6CE,KAL7C,oEAOII,KAAK,CAACN,IAAD,CAAL,IAAe,CAAf,GAAmB,UAAnB,GAAgC,EAPpC;AAAA,AGFV,ALMW,AIHR,GFHK,AELN,CCKE2B,ADNkB,CFoBbjB,IAdD,AGAC,CHcK,EAdN,AGAIoB,CHNC,aGMb,EAEA;AHRa,ACGb,AHFa,AIDS,CFAtB,AEAA,EJAa,CGGPhB,OAAO,GAAG;AEMhB,AFLEH,AHcAZ,EGdAY,AHcAZ,EKTIgC,ILSE,EAAE,CGdC,EAATpB,KEKkB,GAAGqB,CFNP,OEMe,CAACC,cAAT,CAAwB,OAAxB,CAAvB;AACA,AFLEpB,AHcEnB,AIRJ,EDNEmB,EEKIqB,ALSFxC,AIRE0B,GJQC,EAAE,CADC,CGbC,EAATP,EDoBaV,AEdE,GCDG,ADCA,GCDG6B,MDCjBZ,ECDyB,CAACa,QDCZ,CAAAZ,GAAG,ECDA,ADCI,CCDoB,OAAxB,CAAvB,EAEA;AFTgB,AHiBZ1B,AIRF,CDTF,GHiBIA,EIRI2B,CJQD,EAAE,CAFC,EINI,qBAAQD,GAAR,CAAZ;ACCF,ALQIzB,IAAAA,IAAI,CKRCuC,CLQC,KKRV,AFLerB,OEKwB;AAAA,ALK7B,AIJR,MCDgBtB,CDCX,IAAI+B,GAAT,CCDqC,GDCrBD,KCDA9B,CDChB,EAAwB,MCDa;AAAA,ALb1B,AIeT,CJfJ,KKa6BO,EDErBuB,ICF+B,EDEzB,CAACE,KCFczB,MAAU,GDE/B,CAAsBwB,GAAtB,CAAJ,EAAgC;ACDlC,ADEI,MCFEa,IDEIX,CCFC,GAAGlB,CLWDhB,AITE,GAAG+B,ECFE,CAACd,GDEG,CAACe,GCFX,ADEU,CCFK/B,ADEzB,SCFU,EACXiB,GADW,CACP;AAAA;AAAA,ADGH,QCHK4B,EDGDnB,KAAK,CCHN,ADGOC,OAAN,CAAcM,KAAd,CAAJ,EAA0B;ACHvB,ADIDH,QCJagB,ADIbhB,MAAM,CAACC,ECJN,CDIK,CAAN,GAAcR,UAAU,CAACU,KAAD,CAAxB;AACD,OAFD,MAEO,IAAI,QAAOA,KAAP,MAAiB,QAArB,EAA+B;ACLnC,ADMDH,QAAAA,GCN4B,GDMtB,CAACC,GAAD,CAAN,GAAcH,QCNmBiB,GDMR,CAACZ,ICNE,CDMH,CCNkBa,ADM3C,SCN4B,EAA0BvC,MAA1B,CAA3B;AAAA,ADOF,GCRS,EAEXW,IAFW,CAEN,EAFM,CAAd;AAIA,ADKG,MCLGL,KAAK,GAAGE,MAAM,CAACC,OAAP,CAAeT,MAAf,EACXU,GADW,CACP;AAAA,ADKN;ACLM,QAAER,QAAF;AAAA,ADOP,QCPmBsC,CDOZjB,MAAP,ECPO;ADQR,CAhBD;ACQS,WAA2B,mBAAKrB,QAAL,EAAesC,SAAf,CAA3B;AAAA,ADUT,GCXgB,CDWVb,CCTDhB,IAFW,CAEN,CDSG,CCXG,CAAd,CDWc,SAAVgB,OAAU,CAACC,KAAD,EAAQC,MAAR,EAAmB;ACPjCG,ADQA,ECRAA,QDQQH,MCRM,ADQA,CCRCY,ADQA5B,IAAf,KCRA,GAA2BwB,KAA3B;AACAF,ADQE,ECRFA,ODQO,OCRO,CAACM,GDQb,MCRF,GAA2BnC,KAA3B;AACD,ADOqB,ECLtB;ADKsB,YACRL,IADQ,GACO4B,MADP,CACR5B,IADQ;AAAA,YACFG,IADE,GACOyB,MADP,CACFzB,IADE;ACJtBgC,ADMM,MCNA,CAACR,KAAD,ADMME,CCNZ,EAEA,KDIoB,GAAGT,WAAW,CAACO,KAAD,CAA5B;AACAE,QAAAA,QAAQ,CAACrC,SAAT,CAAmBW,IAAnB,EAAyBH,IAAzB;ACJN+B,ADKMF,QAAAA,MCLQ,CAACY,CDKD,CAAC1C,MAAT,CAAgBC,IAAhB,GCLN,CAAgC,OAAhC,EAAyC,UAAA0C,CAAC,EAAI;AAC5C,ADKI,MCLEd,MAAM,GAAGc,ADKJb,CCLK,CAACc,MAAF,ADKX,CCLoBC,OAAT,CAAiBhB,MAAhC;ADMG;ACJH,MAAIA,MAAM,KAAK,WAAX,IAA0BA,MAAM,KAAK,WAAzC,EAAsD;AACpD,ADIA,SAAK,WAAL;ACHD,ADGmB;AAAA,YACR5B,KADQ,GACO4B,MADP,CACR5B,IADQ;ACRwB,ADQxB,YACFG,KADE,GACOyB,MADP,CACFzB,GCFKuC,CAAC,ADCJ,CCDKC,MAAF,CAASE,UAAT,CAAoBD,OAPC;AAAA,MAOpC5C,IAPoC,yBAOpCA,IAPoC;AAAA,ADUxC,MCHUG,IAP8B,EDUlC0B,SAAQ,GAAGT,WCHPjB,ADGkB,CAACwB,GCVW,EDUZ,CAA5B;;ACFJ,ADGIE,MCHEiB,EDGFjB,SCHa,ADGL,CAACrC,ECHOsB,ODGhB,CAAmBX,KAAnB,EAAyBH,ECHD4B,GDGxB,GCHgB,EAAgB5B,IAAhB,EAAsBG,IAAtB,CAApB;ADII0B,QAAAA,SAAQ,CAAC9B,MAAT,CAAgBC,KAAhB;ACHJ2B,ADII,ECJJA,KAAK,GAAG,KDIGE,SAAP,QCJYF,KAAR,EAAemB,WAAf,CAAR;AACAX,ADIG,ECJHA,MAAM,CAACR,KAAD,CAAN;AACD,CAXD,GAaA;ADEI;AAAS;AACP,eAAOA,KAAP;AACD;AAjBH;AAmBD,CApBD;;eAsBeD","file":"scripts.bcf3243b.js","sourceRoot":"..","sourcesContent":["const data = {\n  customers: {\n    Moe: {\n      Foo: 1,\n      Bar: 0,\n      Bazz: 0,\n    },\n    Larry: {\n      Foo: 0,\n      Bar: 0,\n      Bazz: 0,\n    },\n    Curly: {\n      Foo: 0,\n      Bar: 0,\n      Bazz: 0,\n    },\n  },\n  prizes: {\n    Foo: 0,\n    Bar: 3,\n    Bazz: 5,\n  },\n};\n\nexport default data;\n","const item = (itemName, count) => `\n  <div class=\"item flex-item\">\n    <div class=\"item-header\">\n      <p class=\"item-title\">${itemName}</p>\n    </div>\n    <div class=\"item-body\">\n      <p class=\"item-count\">${count}</p>\n    </div>\n  </div>\n`;\n\nexport default item;\n","const user = (name, items, stock) => `\n  <div class=\"user flex-item\">\n    <div class=\"user-header\">\n      <p class=\"user-name\">${name}</p>\n    </div>\n    <div class=\"users-items\">\n      ${Object.entries(items)\n        .map(\n          ([item, count]) => `\n          <div class=\"user-item\" data-item=\"${item}\" data-user=\"${name}\">\n            <button data-action=\"decrement\" ${\n              count <= 0 ? 'disabled' : ''\n            }>-</button>\n            <span class=\"user-item-content\">${item}: ${count}</span>\n            <button data-action=\"increment\" ${\n              stock[item] <= 0 ? 'disabled' : ''\n            }>+</button>\n          </div>\n        `\n        )\n        .join('')}\n    </div>\n  </div>\n`;\n\nexport default user;\n","const decrement = (item, user) => ({ type: 'decrement', item, user });\nconst increment = (item, user) => ({ type: 'increment', item, user });\n\nconst actions = {\n  decrement,\n  increment,\n};\n\nexport default actions;\n","const cloneArray = arr =>\n  arr.map(el => {\n    if (Array.isArray(el)) {\n      return cloneArray(el);\n    } else if (typeof el === 'object') {\n      return cloneObject(el);\n    } else {\n      return el;\n    }\n  });\n\nconst cloneObject = obj => {\n  const newObj = { ...obj };\n\n  for (let key in newObj) {\n    if (newObj.hasOwnProperty(key)) {\n      const value = newObj[key];\n\n      if (Array.isArray(value)) {\n        newObj[key] = cloneArray(value);\n      } else if (typeof value === 'object') {\n        newObj[key] = cloneObject(value);\n      }\n    }\n  }\n\n  return newObj;\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'decrement': {\n      const { item, user } = action;\n      const newState = cloneObject(state);\n      newState.customers[user][item]--;\n      newState.prizes[item]++;\n      return newState;\n    }\n    case 'increment': {\n      const { item, user } = action;\n      const newState = cloneObject(state);\n      newState.customers[user][item]++;\n      newState.prizes[item]--;\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default reducer;\n","import model from './state/model';\nimport Item from './components/item';\nimport User from './components/user';\nimport actions from './state/actions';\nimport reducer from './state/reducer';\n\nlet state = model;\n\n// HTML elements\nconst usersContainer = document.getElementById('users');\nconst itemsContainer = document.getElementById('items');\n\n// Render function\nfunction render({ customers, prizes }) {\n  const users = Object.entries(customers)\n    .map(([userName, userItems]) => User(userName, userItems, prizes))\n    .join('');\n\n  const items = Object.entries(prizes)\n    .map(([itemName, itemCount]) => Item(itemName, itemCount))\n    .join('');\n\n  usersContainer.innerHTML = users;\n  itemsContainer.innerHTML = items;\n}\n\n// Initial render\nrender(state);\n\n// Event Listeners\nusersContainer.addEventListener('click', e => {\n  const action = e.target.dataset.action;\n\n  if (action !== 'decrement' && action !== 'increment') {\n    return;\n  }\n\n  const { item, user } = e.target.parentNode.dataset;\n  const stateAction = actions[action](item, user);\n  state = reducer(state, stateAction);\n  render(state);\n});\n\n// add ability to add users and items; local storage? other apis?\n"]}